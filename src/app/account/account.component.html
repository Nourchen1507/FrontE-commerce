
<body class="  "  style="background:url(../../assets/img/dashboard.png);    background-attachment: fixed;
background-size: cover;">
<!-- loader Start -->

<!-- loader END -->
<div class="position-relative">
  <div class="user-img1">
      <svg width="1857"  viewBox="0 0 1857 327" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M4.05078 189.348C86.8841 109.514 348.951 -25.2523 734.551 74.3477C1120.15 173.948 1641.22 91.181 1853.55 37.3477" stroke="#EA6A12" stroke-opacity="0.3"/>
      <path d="M0.99839 152.331C90.9502 80.6133 364.495 -28.9952 739.062 106.31C1113.63 241.616 1640.16 208.056 1856.6 174.363" stroke="#EA6A12" stroke-opacity="0.3"/>
      </svg>
  </div>
</div>


<main class="main-content text-center" >
  <div class="position-relative">
    <!--Nav Start-->
    <nav class="nav navbar navbar-expand-lg navbar-light iq-navbar">
      <div class="container-fluid navbar-inner">
       
       
        <div class="input-group search-input">
          <span class="input-group-text" id="search-input">
            <svg width="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11.7669" cy="11.7666" r="8.98856" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle>
                <path d="M18.0186 18.4851L21.5426 22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </span>
          <input type="search" class="form-control" placeholder="Search...">
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon">
              <span class="navbar-toggler-bar bar1 mt-2"></span>
              <span class="navbar-toggler-bar bar2"></span>
              <span class="navbar-toggler-bar bar3"></span>
            </span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto align-items-center navbar-list mb-2 mb-lg-0">
        
           
            <li class="nav-item dropdown">
              <a class="nav-link py-0 d-flex align-items-center" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="../../assets/img/avatars/01.png" alt="User-Profile" class="img-fluid avatar avatar-50 avatar-rounded">
                <div class="caption ms-3 d-none d-md-block " *ngFor="let x of liste">
                    <h6 class="mb-0 caption-title">{{x.firstName}}</h6>
                    <p class="mb-0 caption-sub-title">{{x.lastName}}</p>
                </div>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" routerLink="/client">Dashboard</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" role="button" (click)="logout()">Logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>          <!-- Nav Header Component Start -->
      <!-- Nav Header Component End -->
    <!--Nav End-->
  </div>
<div class="container-fluid py-5">
  <div class="col-lg-12 " *ngFor="let x of liste">
    <div class="iq-main">
       <div class="card mb-0 iq-content rounded-bottom">
          <div class="d-flex flex-wrap align-items-center justify-content-between mx-3 my-3">
             <div class="d-flex flex-wrap align-items-center">
                <div class="profile-img22 position-relative me-3 mb-3 mb-lg-0">
                </div>
              
             </div>
             <ul class="d-flex mb-0 text-center nav nav-tabs"   id="myTab"
             role="tabpanel">
                <li class="badge bg-primary py-2 me-2 nav-item">
                  <a
                  class="nav-link active"
                  id="home-tab"
                  data-toggle="tab"
                  href="#account"
                  role="tab"
                  aria-controls="account"
                  aria-selected="true"
                  ><i class="lni lni-pointer-right mr-1"></i>Account</a
                >
                </li>
                <li class="badge bg-primary py-2 me-2 nav-item">
                  <a
                  class="nav-link"
                  id="profile-tab"
                  data-toggle="tab"
                  href="#profile"
                  role="tab"
                  aria-controls="profile"
                  aria-selected="false"
                  ><i class="lni lni-fresh-juice mr-1"></i> My Orders</a
                >
                </li>
                <li class="badge bg-primary py-2 me-2 nav-item">
                  <a
                  class="nav-link"
                  id="contact-tab"
                  data-toggle="tab"
                  href="#contact"
                  role="tab"
                  style="color: rgb(255, 4, 4);"
                  aria-controls="contact"
                  aria-selected="false"
                  ><i class="lni lni-lock mr-1" ></i> Delete</a
                >
                </li>
             </ul>
          </div>
       </div>
       <div class="iq-header-img">
          <img src="../../assets/img/User-profile/01.png" alt="header" class="img-fluid w-100 rounded" style="object-fit: contain;">
       </div>

    </div>

 </div>

    <div class="" >
      <div class="text-center " *ngFor="let x of liste">
       <div class="col-lg-12 shadow-lg">
       <div class="card shadow-lg">
        <div class="tab-content" id="myTabContent">
          <div *ngIf="!val"
            class="tab-pane fade show active"
            id="account"
            role="tabpanel"
            aria-labelledby="account-tab"
          >
          <table class="table" style="border: none">
            <tr>
              <td style="border: none">
                <i class="fas fa-envelope"></i> Email :
              </td>
              <td style="border: none">{{ x.email }}</td>
            </tr>
           
            <tr>
              <td style="border: none">
                <i class="fas fa-user"></i> Localisation:
              </td>
              <td style="border: none">{{ x.localisation }}</td>
            </tr>
            <tr>
              <td style="border: none">
                <i class="fas fa-phone"></i> Number :
              </td>
              <td style="border: none">{{ x.phone }}</td>
            </tr>
           
            <tr>
              <td style="border: none">
                <button
                type="submit"
                class="btn main-btn rounded-pill contact_btn"
                (click)="edit(x.id,true)"
              >
                Edit
              </button>
              </td>
           
            </tr>
          </table>
          
          
          </div>
          <div *ngIf="val"
          class="tab-pane fade show active"
          id="account"
          role="tabpanel"
          aria-labelledby="account-tab"
        >
          <table class="table" style="border: none">
            <tr>
              <td style="border: none" > E-mail :</td>
              <input type="hidden" name="id" class="form-control" [(ngModel)]="user.id">
              <td style="border: none" ><input type="text" name="email" class="form-control" [(ngModel)]="user.email"></td>
            </tr>
            <tr>
              <td style="border: none" >Votre Nom  :</td>
              <td style="border: none" ><input type="text" class="form-control" name="nom"  [(ngModel)]="user.firstName"></td>
            </tr>
            <tr>
              <td style="border: none" >Votre Prenom :</td>
              <td style="border: none" ><input type="text" class="form-control" name="prenom"  [(ngModel)]="user.lastName"></td>
            </tr>
            <tr>
              <td style="border: none" > Votre Telephone:</td>
              <td style="border: none" ><input type="text" class="form-control" name="num"  [(ngModel)]="user.phone"></td>
            </tr>

            <tr>
              <td style="border: none" ><Li></Li>Localisation :</td>
              <td style="border: none" ><input type="text" class="form-control" name="localisation" [(ngModel)]="user.localisation"></td>
            </tr>
            <tr>
              <td style="border: none" >Password :</td>
              <td style="border: none" ><input type="password" class="form-control" name="password" [(ngModel)]="user.password"></td>
            </tr>
            <tr>
              <button
              type="submit"
              class="main-btn rounded-pill contact_btn"
              (click)="update()"
            >
              update
            </button>
              <button
              type="submit"
              class="main-btn rounded-pill contact_btn" (click)="close(false)"
            >
                Close
            </button>
            </tr>
          </table>
        </div>
          <div
            class="tab-pane fade"
            id="profile"
            role="tabpanel"
            aria-labelledby="profile-tab"

          >

          <table class="table table-hover table-dark bg-black">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">
                  <i class="fas fa-orderStatus"></i> Order Status
                </th>
                <th scope="col">
                  <i class="fas fa-calendar"></i> Date
                </th>
                <th scope="col">
                  <i class="fas fa-sticky-note"></i> Total Amount
                </th>
                
                <th scope="col">
                  <i class="fas fa-tasks"></i> Order Items
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let orders of listeordors; let i = index">
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ orders.orderStatus }}</td>
                <td>{{ orders.orderDate | date: 'dd/MM/yyyy' }}</td>
                <td>{{ orders.totalAmount | currency:'USD':true }}</td>
                <td>
                  <ul>
                    <li *ngFor="let item of orders.orderItems">
                      {{ item.orderId }} - Quantity: {{ item.quantity }} - Price: {{ item.price | currency:'USD':true }}
                    </li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
          
          
          </div>
          <!-- addres tab -->
          <div
          class="tab-pane fade"
          id="address"
          role="tabpanel"
          aria-labelledby="address-tab"

        >
   <div class="text-end p-2">
    <button
    type="submit"
    class="main-btn rounded-pill contact_btn"

    data-bs-toggle="modal" data-bs-target="#exampleModal"
  >
    add
  </button>
   </div>
   <table class="table" style="border: none"  *ngFor="let y of listeadresse">
    <tr>
      <td style="border: none" >NomResidence :</td>
      <td style="border: none" >{{ y.NomResidence }}</td>
    </tr>
    <tr>
      <td style="border: none" >Etage :</td>
      <td style="border: none" >{{ y.Etage }}</td>
    </tr>
    <tr>
      <td style="border: none" >NumMaison :</td>
      <td style="border: none" >{{ y.NumMaison }}</td>
    </tr>
    <tr>
      <td style="border: none" >CodeAcces :</td>
      <td style="border: none" >{{ y.CodeAcces }}</td>
    </tr>
    <tr>
      <button
      type="submit"
      class="btn main-btn "
      data-bs-toggle="modal" data-bs-target="#exampleModal2"
      (click)="editadresse(y.id)"
    >
      edit
    </button>
    <button
    type="submit"
    class="btn btn-dark "
    (click)="deleteaddress(y.id)"
  >
    delete
  </button>
    </tr>
  </table>



        </div>
        <div
        class="tab-pane fade"
        id="contact"
        role="tabpanel"
        aria-labelledby="contact-tab"
      >
      <table class="table" style="border: none">
        <h2 > put your email to delete </h2>
        <tr>
          <td style="border: none" >email :</td>
          <td style="border: none" ><input type="text" name="email" class="form-control" [(ngModel)]="email"></td>
        </tr>

        <tr>
          <button
            type="submit"
            class="main-btn rounded-pill contact_btn"
            (click)="delete(email)"
          >
            Delete
          </button>

            </tr>
          </table>
          </div>
        </div>
       </div>
       </div>

      </div>




</div>
</div>
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table" style="border: none">


          <tr>
            <td style="border: none" >Residence Name:</td>
            <td style="border: none" >              <input class="form-control" type="text" id="NomResidence" [(ngModel)]="address.NomResidence" />
            </td>
          </tr>
          <tr>
            <td style="border: none" >Floor: :</td>
            <td style="border: none" >              <input class="form-control" type="number" id="Etage" [(ngModel)]="address.Etage" />
            </td>
          </tr>
          <input type="hidden" class="form-control" name="role" [(ngModel)]="user.role">
          <tr>
            <td style="border: none" >House Number: :</td>
            <td style="border: none" >              <input class="form-control" type="text" id="NumMaison" [(ngModel)]="address.NumMaison" />
            </td>

          </tr>
          <tr>
            <td style="border: none" >Access Code: :</td>
            <td style="border: none" >              <input class="form-control" type="text" id="CodeAcces" [(ngModel)]="address.CodeAcces" />
            </td>

          </tr>
          <tr>


          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="onSubmit()">add</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table" style="border: none">


          <tr>
            <td style="border: none" >Residence Name:</td>
            <td style="border: none" >              <input class="form-control" type="text" id="NomResidence" [(ngModel)]="address.NomResidence" />
            </td>
          </tr>
          <tr>
            <td style="border: none" >Floor: :</td>
            <td style="border: none" >              <input class="form-control" type="number" id="Etage" [(ngModel)]="address.Etage" />
            </td>
          </tr>
          <input type="hidden" class="form-control" name="role" [(ngModel)]="user.role">
          <tr>
            <td style="border: none" >House Number: :</td>
            <td style="border: none" >              <input class="form-control" type="text" id="NumMaison" [(ngModel)]="address.NumMaison" />
            </td>

          </tr>
          <tr>
            <td style="border: none" >Access Code: :</td>
            <td style="border: none" >              <input class="form-control" type="text" id="CodeAcces" [(ngModel)]="address.CodeAcces" />
            </td>

          </tr>
          <tr>


          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="updateadd()">add</button>
      </div>
    </div>
  </div>
</div>
  <!-- Footer Section Start -->
  <footer class="footer">
      <div class="footer-body">
          <ul class="left-panel list-inline mb-0 p-0">
           
          </ul>
          <div class="right-panel">
              Â©<script>document.write(new Date().getFullYear())</script> E-commerceApplication, Made with
              <span class="text-gray">
                  <svg width="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M15.85 2.50065C16.481 2.50065 17.111 2.58965 17.71 2.79065C21.401 3.99065 22.731 8.04065 21.62 11.5806C20.99 13.3896 19.96 15.0406 18.611 16.3896C16.68 18.2596 14.561 19.9196 12.28 21.3496L12.03 21.5006L11.77 21.3396C9.48102 19.9196 7.35002 18.2596 5.40102 16.3796C4.06102 15.0306 3.03002 13.3896 2.39002 11.5806C1.26002 8.04065 2.59002 3.99065 6.32102 2.76965C6.61102 2.66965 6.91002 2.59965 7.21002 2.56065H7.33002C7.61102 2.51965 7.89002 2.50065 8.17002 2.50065H8.28002C8.91002 2.51965 9.52002 2.62965 10.111 2.83065H10.17C10.21 2.84965 10.24 2.87065 10.26 2.88965C10.481 2.96065 10.69 3.04065 10.89 3.15065L11.27 3.32065C11.3618 3.36962 11.4649 3.44445 11.554 3.50912C11.6104 3.55009 11.6612 3.58699 11.7 3.61065C11.7163 3.62028 11.7329 3.62996 11.7496 3.63972C11.8354 3.68977 11.9247 3.74191 12 3.79965C13.111 2.95065 14.46 2.49065 15.85 2.50065ZM18.51 9.70065C18.92 9.68965 19.27 9.36065 19.3 8.93965V8.82065C19.33 7.41965 18.481 6.15065 17.19 5.66065C16.78 5.51965 16.33 5.74065 16.18 6.16065C16.04 6.58065 16.26 7.04065 16.68 7.18965C17.321 7.42965 17.75 8.06065 17.75 8.75965V8.79065C17.731 9.01965 17.8 9.24065 17.94 9.41065C18.08 9.58065 18.29 9.67965 18.51 9.70065Z" fill="currentColor"></path>
                  </svg>
              </span> by <a >RFC</a>.
          </div>
      </div>
  </footer>
  <!-- Footer Section End -->    </main>
<!-- Wrapper End-->
<!-- offcanvas start -->


</body>
